
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vh-test</title>

<script>
var iOS = parseFloat(('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0,''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) || false;
if(iOS > 5 && iOS < 8) document.documentElement.classList.add('crazy-vh');
</script>

<style>

.crazy-vh .hero {
	background: pink;
	height: 1024px;
}

body {
	margin: 0;
}

h1 {
	margin: 0;
}

.hero {
	height: 100vh;
	background: green;
	/* This is used so there is no jump when using background cover on mobile */
	transition: height 999999s;
}

</style>
</head>
<body>

<div class="hero">
	<h1>Test if vh is crazily implemented</h1>
	<p>
	    In iOS <code>100vh</code> is either as high as the viewport, or, of the document is higher than tha viewport, it's a high as the document. Which is insane. This script tests this insanity and adds a class 'crazy-vh' to the HTML element.
	</p>

	<p>If this is pink and full height it works</p>
</div>
</body>
</html>

<!--
Or Use CSS MQ:

/* fix iOS bug not displaying 100vh correctly */
/* ipad */
@media only screen and (min-device-width : 768px) and (max-device-width : 1024px) and (orientation : landscape) {
	.hero {
		height: 768px;
	}
}
@media only screen and (min-device-width : 768px) and (max-device-width : 1024px) and (orientation : portrait) {
	.hero {
		height: 1024px;
	}
}
/* iphone5 */
@media only screen and (min-device-width: 320px) and (max-device-height: 568px) and (orientation : landscape) and (-webkit-device-pixel-ratio: 2) {
	.hero {
		height: 320px;
	}
}
@media only screen and (min-device-width: 320px) and (max-device-height: 568px) and (orientation : portrait) and (-webkit-device-pixel-ratio: 2) {
	.hero {
		height: 568px;
	}
}
/* iPhone 4 */
@media only screen and (min-device-width : 320px) and (max-device-width : 480px) and (orientation : landscape) and (-webkit-min-device-pixel-ratio : 2) {
	.hero {
		height: 320px;
	}
}
@media only screen and (min-device-width : 320px) and (max-device-width : 480px) and (orientation : portrait) and (-webkit-min-device-pixel-ratio : 2) {
	.hero {
		height: 480px;
	}
}
-->